import{S as H,i as x,s as z,k as g,q as B,a as I,l as v,m as E,r as D,h as p,c as P,n as h,b as R,G as f,K as A,L as F,H as S,R as G,u as K,g as U,d as L,f as M,w as Q,P as $,y as J,z as W,A as X,Q as Y,B as Z,v as ee}from"../chunks/index.f6f7890c.js";import{D as te,a as re,g as se}from"../chunks/navigation.67e2f0f6.js";function V(n,e,l){const a=n.slice();return a[3]=e[l],a}function q(n){let e,l=n[1][n[3]]+"",a,u;return{c(){e=g("li"),a=B(l),u=I()},l(s){e=v(s,"LI",{});var r=E(e);a=D(r,l),u=P(r),r.forEach(p)},m(s,r){R(s,e,r),f(e,a),f(e,u)},p(s,r){r&2&&l!==(l=s[1][s[3]]+"")&&K(a,l)},d(s){s&&p(e)}}}function le(n){let e,l,a,u,s,r,d,o,m,T,w,j=Object.keys(n[1]),i=[];for(let c=0;c<j.length;c+=1)i[c]=q(V(n,j,c));return{c(){e=g("div"),l=g("div"),a=g("p"),u=B("The following errors have been found:"),s=I(),r=g("ul");for(let c=0;c<i.length;c+=1)i[c].c();d=I(),o=g("button"),m=g("i"),this.h()},l(c){e=v(c,"DIV",{class:!0});var b=E(e);l=v(b,"DIV",{class:!0});var t=E(l);a=v(t,"P",{});var _=E(a);u=D(_,"The following errors have been found:"),_.forEach(p),s=P(t),r=v(t,"UL",{class:!0});var k=E(r);for(let y=0;y<i.length;y+=1)i[y].l(k);k.forEach(p),t.forEach(p),d=P(b),o=v(b,"BUTTON",{class:!0});var O=E(o);m=v(O,"I",{class:!0}),E(m).forEach(p),O.forEach(p),b.forEach(p),this.h()},h(){h(r,"class","error-list svelte-s8njrl"),h(l,"class","error-box svelte-s8njrl"),h(m,"class","error-icon fa-solid fa-xmark svelte-s8njrl"),h(o,"class","error-delete svelte-s8njrl"),h(e,"class","error-container svelte-s8njrl")},m(c,b){R(c,e,b),f(e,l),f(l,a),f(a,u),f(l,s),f(l,r);for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(r,null);f(e,d),f(e,o),f(o,m),T||(w=A(o,"click",F(n[2])),T=!0)},p(c,[b]){if(b&2){j=Object.keys(c[1]);let t;for(t=0;t<j.length;t+=1){const _=V(c,j,t);i[t]?i[t].p(_,b):(i[t]=q(_),i[t].c(),i[t].m(r,null))}for(;t<i.length;t+=1)i[t].d(1);i.length=j.length}},i:S,o:S,d(c){c&&p(e),G(i,c),T=!1,w()}}}function ae(n,e,l){let{hide:a}=e,{errors:u}=e;const s=()=>l(0,a=!1);return n.$$set=r=>{"hide"in r&&l(0,a=r.hide),"errors"in r&&l(1,u=r.errors)},[a,u,s]}class oe extends H{constructor(e){super(),x(this,e,ae,le,z,{hide:0,errors:1})}}function C(n){let e,l,a;function u(r){n[3](r)}let s={errors:n[0]};return n[1]!==void 0&&(s.hide=n[1]),e=new oe({props:s}),Q.push(()=>$(e,"hide",u)),{c(){J(e.$$.fragment)},l(r){W(e.$$.fragment,r)},m(r,d){X(e,r,d),a=!0},p(r,d){const o={};d&1&&(o.errors=r[0]),!l&&d&2&&(l=!0,o.hide=r[1],Y(()=>l=!1)),e.$set(o)},i(r){a||(U(e.$$.fragment,r),a=!0)},o(r){L(e.$$.fragment,r),a=!1},d(r){Z(e,r)}}}function ne(n){let e,l,a,u,s,r,d,o,m,T,w,j,i,c,b,t=n[1]&&C(n);return{c(){e=g("div"),l=g("h1"),a=B("Register"),u=I(),s=g("form"),t&&t.c(),r=I(),d=g("input"),o=I(),m=g("input"),T=I(),w=g("button"),j=B("Login"),this.h()},l(_){e=v(_,"DIV",{class:!0});var k=E(e);l=v(k,"H1",{class:!0});var O=E(l);a=D(O,"Register"),O.forEach(p),u=P(k),s=v(k,"FORM",{action:!0,method:!0,class:!0});var y=E(s);t&&t.l(y),r=P(y),d=v(y,"INPUT",{type:!0,name:!0,placeholder:!0,spellcheck:!0,class:!0}),o=P(y),m=v(y,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),T=P(y),w=v(y,"BUTTON",{class:!0});var N=E(w);j=D(N,"Login"),N.forEach(p),y.forEach(p),k.forEach(p),this.h()},h(){h(l,"class","svelte-jgh3m2"),h(d,"type","text"),h(d,"name","username"),h(d,"placeholder","Username"),h(d,"spellcheck","false"),h(d,"class","svelte-jgh3m2"),h(m,"type","password"),h(m,"name","password"),h(m,"placeholder","Password"),h(m,"class","svelte-jgh3m2"),h(w,"class","svelte-jgh3m2"),h(s,"action",te+"/api/auth/register"),h(s,"method","POST"),h(s,"class","svelte-jgh3m2"),h(e,"class","svelte-jgh3m2")},m(_,k){R(_,e,k),f(e,l),f(l,a),f(e,u),f(e,s),t&&t.m(s,null),f(s,r),f(s,d),f(s,o),f(s,m),f(s,T),f(s,w),f(w,j),i=!0,c||(b=A(s,"submit",F(n[2])),c=!0)},p(_,[k]){_[1]?t?(t.p(_,k),k&2&&U(t,1)):(t=C(_),t.c(),U(t,1),t.m(s,r)):t&&(ee(),L(t,1,1,()=>{t=null}),M())},i(_){i||(U(t),i=!0)},o(_){L(t),i=!1},d(_){_&&p(e),t&&t.d(),c=!1,b()}}}function ie(n,e,l){let a={},u=!1;const s=o=>l(0,a=o);async function r(){const o=await re({method:this.method,url:this.action,withCredentials:!0,data:this}).then(m=>m.data);o.error?console.log(o.error):o.errors?(s(o.errors),l(1,u=!0)):typeof o.url=="string"&&se("/")}function d(o){u=o,l(1,u)}return[a,u,r,d]}class fe extends H{constructor(e){super(),x(this,e,ie,ne,z,{})}}export{fe as default};
