import{S as q,i as F,s as H,k as v,q as B,a as I,l as g,m as j,r as L,h as p,c as O,n as h,b as D,G as u,K as z,H as S,T as A,u as C,L as G,g as U,d as $,f as K,y as M,z as J,A as Q,B as W,v as X}from"../chunks/index.654041f3.js";import{g as Y}from"../chunks/navigation.03eac770.js";function x(f,e,l){const s=f.slice();return s[3]=e[l],s}function R(f){let e,l=f[1][f[3]]+"",s,c;return{c(){e=v("li"),s=B(l),c=I()},l(r){e=g(r,"LI",{});var o=j(e);s=L(o,l),c=O(o),o.forEach(p)},m(r,o){D(r,e,o),u(e,s),u(e,c)},p(r,o){o&2&&l!==(l=r[1][r[3]]+"")&&C(s,l)},d(r){r&&p(e)}}}function Z(f){let e,l,s,c,r,o,_,i,m,w,T,k=Object.keys(f[1]),a=[];for(let n=0;n<k.length;n+=1)a[n]=R(x(f,k,n));return{c(){e=v("div"),l=v("div"),s=v("p"),c=B("The following errors have been found:"),r=I(),o=v("ul");for(let n=0;n<a.length;n+=1)a[n].c();_=I(),i=v("button"),m=v("i"),this.h()},l(n){e=g(n,"DIV",{class:!0});var b=j(e);l=g(b,"DIV",{class:!0});var t=j(l);s=g(t,"P",{});var d=j(s);c=L(d,"The following errors have been found:"),d.forEach(p),r=O(t),o=g(t,"UL",{class:!0});var y=j(o);for(let E=0;E<a.length;E+=1)a[E].l(y);y.forEach(p),t.forEach(p),_=O(b),i=g(b,"BUTTON",{class:!0});var P=j(i);m=g(P,"I",{class:!0}),j(m).forEach(p),P.forEach(p),b.forEach(p),this.h()},h(){h(o,"class","error-list svelte-s8njrl"),h(l,"class","error-box svelte-s8njrl"),h(m,"class","error-icon fa-solid fa-xmark svelte-s8njrl"),h(i,"class","error-delete svelte-s8njrl"),h(e,"class","error-container svelte-s8njrl")},m(n,b){D(n,e,b),u(e,l),u(l,s),u(s,c),u(l,r),u(l,o);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(o,null);u(e,_),u(e,i),u(i,m),w||(T=z(i,"click",f[2]),w=!0)},p(n,[b]){if(b&2){k=Object.keys(n[1]);let t;for(t=0;t<k.length;t+=1){const d=x(n,k,t);a[t]?a[t].p(d,b):(a[t]=R(d),a[t].c(),a[t].m(o,null))}for(;t<a.length;t+=1)a[t].d(1);a.length=k.length}},i:S,o:S,d(n){n&&p(e),A(a,n),w=!1,T()}}}function ee(f,e,l){let{hide:s}=e,{errors:c}=e;const r=()=>s(!1);return f.$$set=o=>{"hide"in o&&l(0,s=o.hide),"errors"in o&&l(1,c=o.errors)},[s,c,r]}class te extends q{constructor(e){super(),F(this,e,ee,Z,H,{hide:0,errors:1})}}function V(f){let e,l;return e=new te({props:{hide:f[2],errors:f[0]}}),{c(){M(e.$$.fragment)},l(s){J(e.$$.fragment,s)},m(s,c){Q(e,s,c),l=!0},p(s,c){const r={};c&1&&(r.errors=s[0]),e.$set(r)},i(s){l||(U(e.$$.fragment,s),l=!0)},o(s){$(e.$$.fragment,s),l=!1},d(s){W(e,s)}}}function re(f){let e,l,s,c,r,o,_,i,m,w,T,k,a,n,b,t=f[1]&&V(f);return{c(){e=v("div"),l=v("h1"),s=B("Register"),c=I(),r=v("form"),t&&t.c(),o=I(),_=v("input"),i=I(),m=v("input"),w=I(),T=v("button"),k=B("Login"),this.h()},l(d){e=g(d,"DIV",{class:!0});var y=j(e);l=g(y,"H1",{class:!0});var P=j(l);s=L(P,"Register"),P.forEach(p),c=O(y),r=g(y,"FORM",{action:!0,method:!0,class:!0});var E=j(r);t&&t.l(E),o=O(E),_=g(E,"INPUT",{type:!0,name:!0,placeholder:!0,spellcheck:!0,class:!0}),i=O(E),m=g(E,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),w=O(E),T=g(E,"BUTTON",{class:!0});var N=j(T);k=L(N,"Login"),N.forEach(p),E.forEach(p),y.forEach(p),this.h()},h(){h(l,"class","svelte-jgh3m2"),h(_,"type","text"),h(_,"name","username"),h(_,"placeholder","Username"),h(_,"spellcheck","false"),h(_,"class","svelte-jgh3m2"),h(m,"type","password"),h(m,"name","password"),h(m,"placeholder","Password"),h(m,"class","svelte-jgh3m2"),h(T,"class","svelte-jgh3m2"),h(r,"action","http://localhost:4200/api/auth/register"),h(r,"method","POST"),h(r,"class","svelte-jgh3m2"),h(e,"class","svelte-jgh3m2")},m(d,y){D(d,e,y),u(e,l),u(l,s),u(e,c),u(e,r),t&&t.m(r,null),u(r,o),u(r,_),u(r,i),u(r,m),u(r,w),u(r,T),u(T,k),a=!0,n||(b=z(r,"submit",G(f[3])),n=!0)},p(d,[y]){d[1]?t?(t.p(d,y),y&2&&U(t,1)):(t=V(d),t.c(),U(t,1),t.m(r,o)):t&&(X(),$(t,1,1,()=>{t=null}),K())},i(d){a||(U(t),a=!0)},o(d){$(t),a=!1},d(d){d&&p(e),t&&t.d(),n=!1,b()}}}function se(f,e,l){let s={},c=!1;const r=i=>l(1,c=i),o=i=>l(0,s=i);async function _(){const i=await fetch(this.action,{method:this.method,credentials:"include",body:new FormData(this)}).then(m=>m.json());i.error?console.log(i.error):i.errors?(r(!0),o(i.errors)):typeof i.url=="string"&&Y("/")}return[s,c,r,_]}class ae extends q{constructor(e){super(),F(this,e,se,re,H,{})}}export{ae as default};
